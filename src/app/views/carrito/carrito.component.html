<section class="contenedor-seccion">
  <div class="fondo-seccion"></div>
  <div class="header-seccion">
      <div class="col">
          <strong><span class="link-blanco">Inicio</span> / Carrito</strong>
      </div>
      <div class="centro">
          <h2>Mi Listado de Deseos</h2>
      </div>
      <div class="col busqueda">

      </div>
  </div>

  <section class="mi-carrito">
      <div class="productos-carrito">
          <div class="fila">
              <div class="col descripcion">
                  <strong>Descripción</strong>
              </div>
              <div class="col talle">
                  <strong>Talle</strong>
              </div>
              <div class="col color">
                  <strong>Color</strong>
              </div>
              <div class="col cantidad">
                  <strong>Cantidad</strong>
              </div>
              <div class="col eliminar">
                  <strong>Eliminar</strong>
              </div>
              <div class="col precio">
                  <strong>Precio</strong>
              </div>
          </div>
          <div class="productos-carrito">
            <div class="fila" *ngFor="let carrito of carritos">
              <div class="col descripcion">
                <img [src]="carrito.foto.url" alt="logo" style="width: 50px; height: 50px; margin-right: 25px;">
                <span>{{ carrito.foto.descripcion }}</span>
              </div>
              <div class="col talle">
                <span>{{ carrito.foto.talle }}</span>
              </div>
              <div class="col color" [ngClass]="carrito.foto.colorClass">
                <span> </span>
              </div>
              <div class="col cantidad">
                <button (click)="incrementarCantidad(carrito)"> + </button>
                <span class="total-cantidad">{{ carrito.cantidad }}</span>
                <button (click)="disminuirCantidad(carrito)"> - </button>
              </div>
              <div class="col eliminar">
                <button (click)="borrarCarrito(carrito.id)" class="btn btn-danger">
                  <i class="fa-solid fa-xmark"></i>
                </button>
              </div>
              <div class="col precio">
                <span>{{ carrito.foto.precio | currency }}</span>
              </div>
            </div>
          </div>
          
          <div class="finalizar-compra">
            <h3>Total Compra</h3>
            <div class="monto">{{ totalCompra | currency }}</div> <!-- Aquí se muestra el total calculado -->
            <button class="btn-pagar">PAGAR</button>
          </div>
          


</section>
<script>
  // Cambia la cantidad de productos
  function cambiarCantidad(cantidad, button) {
    var cantidadInput = button.parentElement.querySelector('input[name="cantidad"]');
    var cantidadSpan = button.parentElement.querySelector('.total-cantidad');
    var nuevaCantidad = parseInt(cantidadInput.value) + cantidad;
    if (nuevaCantidad > 0) {
      cantidadInput.value = nuevaCantidad;
      cantidadSpan.textContent = nuevaCantidad;
    }
  }
  
    function calcularTotal() {
  // Selecciona todos los elementos que representan una foto (ajusta el selector según tu HTML)
  const fotos = document.querySelectorAll('.foto');

  let total = 0;

  fotos.forEach(foto => {
    const precioElemento = foto.querySelector('.precio-foto'); // Ajusta el selector si es necesario
    const cantidadElemento = foto.querySelector('input[name="cantidad-foto"]'); // Ajusta el selector si es necesario

    const precio = parseFloat(precioElemento.textContent.replace('$', ''));
    const cantidad = parseInt(cantidadElemento.value);

    total += precio * cantidad;
  });

  // Selecciona el elemento donde se muestra el total y actualiza su contenido
  const totalCompraElemento = document.querySelector('.monto');
  totalCompraElemento.textContent = total.toLocaleString('es-CO', { style: 'currency', currency: 'COP' });
}
// ... tu función cambiarCantidad ...

</script>